/*
 * Script Required For Admin Panel 
 */
jQuery(document).ready(function(){jQuery("body").on("click","#load-parts",function(){var c=jQuery(this).data("page");c=parseInt(c);var b=jQuery(this);jQuery(".loading-div").show("fast");var a={action:"load_more",pagenumber:c};jQuery.post(ajaxurl,a,function(d){jQuery(".loading-div").hide("slow");if(d){jQuery(b).before(d);jQuery(b).data("page",(c+1))}else{jQuery(b).html("No more data!").fadeOut("slow")}})});jQuery("body").on("click",".alter-parts",function(){var c=jQuery(this).data("part");var a=jQuery(this).data("flag");var d=jQuery(this);var b={action:"alter_part",modelname:c};jQuery(".loading-div").show();jQuery.post(ajaxurl,b,function(e){jQuery(".loading-div").hide();if(e=="1"){if(a=="show"){jQuery(d).attr("src",showimg);jQuery(d).prev().text("Currently Hidden");jQuery(d).data("flag","hide");jQuery(d).attr("title","Show")}else{jQuery(d).attr("src",hideimg);jQuery(d).prev().text("Currently Shown");jQuery(d).data("flag","show");jQuery(d).attr("title","Hide")}}})});jQuery("body").on("click",".model-delete a",function(f){f.preventDefault();var d=confirm("Are you sure you want to delete this part?");if(d===true){var b=jQuery(this).data("modelname");var c=jQuery(this);var a={action:"delete_part",modelname:b};jQuery(".loading-div").show();jQuery.post(ajaxurl,a,function(e){jQuery(".loading-div").hide();var g=jQuery(c).parents(".row");jQuery(c).parents(".row").fadeOut("",function(){jQuery(g).remove();var h=0;var i="";jQuery(".model-activation .row").each(function(){if(!jQuery(this).hasClass("heading")){i=(!h||!(h%2))?"even":"odd";jQuery(this).removeClass("even");jQuery(this).removeClass("odd");jQuery(this).addClass(i);h++}})})})}});jQuery("body").on("click",".feature-toggle",function(f){var d=jQuery(this).data("featureno");var a=jQuery(this).data("status");a=parseInt(a);var c=jQuery(this);var b={action:"feature_toggle",featureno:d,status:a};jQuery(".loading-div").show();jQuery.post(ajaxurl,b,function(e){jQuery(".loading-div").hide();if(e==="1"){if(a===0){jQuery(c).prev().text("Currently Active");jQuery(c).data("status","1");jQuery(c).attr("src",inactive);jQuery(c).attr("title","Deactivate")}else{jQuery(c).prev().text("Currently Inactive ");jQuery(c).data("status","0");jQuery(c).attr("src",active);jQuery(c).attr("title","Activate")}}})});tinymce.init({selector:"textarea#add-page",height:250,plugins:["advlist autolink lists link image charmap print preview anchor","searchreplace visualblocks code fullscreen","insertdatetime media table contextmenu paste jbimages"],toolbar:"insertfile undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image | print preview media fullpage | forecolor backcolor emoticons"});jQuery("#page-submit").on("click",function(){var e=jQuery("#page-name").val();var c=tinymce.get("add-page");c.save();var d=jQuery("#add-page").val();var a=jQuery(this).data("pid");if(a==0){var b={action:"create_page",title:e,content:d}}else{var b={action:"create_page",title:e,content:d,pid:a}}jQuery(".loading-div").show("fast");jQuery.post(ajaxurl,b,function(f){jQuery(".loading-div").hide("slow");var g=f.split("~");jQuery(".msg-div").html(g[1]);if((g[0]=="success")&&(a==0)){tinymce.get("add-page").setContent("");jQuery("#page-name").val("")}})});jQuery(".get-confirm span").on("click",function(){var a=jQuery(this).data("pid");var b={action:"delete_page",pid:a};jQuery.post(ajaxurl,b,function(c){jQuery(".msg-div").html(c)})})});jQuery(window).on("load",function(){var a=jQuery(window).height();jQuery(".admin-panel").css("min-height",(a-220))});